<h1>Path of Exile Skill Tree</h1>

<div id="cy" style="width: 100%; height: 800px; border: 1px solid #ccc;"></div>

<!-- Cytoscape.js CDN -->
<script src="https://unpkg.com/cytoscape@3.24.0/dist/cytoscape.min.js"></script>

<script>
document.addEventListener('DOMContentLoaded', function() {

    const cy = cytoscape({
        container: document.getElementById('cy'),

        elements: {
            nodes: <?= $this->cyNodes ?>,
            edges: <?= $this->cyEdges ?>
        },

        layout: {
            name: 'preset' // use x/y from JSON
        },

        style: [
            {
                selector: 'node',
                style: {
                    'label': 'data(label)',
                    'background-color': '#0074D9',
                    'color': '#fff',
                    'text-valign': 'center',
                    'text-halign': 'center',
                    'font-size': 8,
                    'width': 15,
                    'height': 15
                }
            },
            {
                selector: 'edge',
                style: {
                    'width': 1,
                    'line-color': '#ccc'
                }
            }
        ]
    });

    // Zoom and pan enabled
    cy.zoomingEnabled(true);
    cy.panningEnabled(true);

});
</script>
